{"version":3,"sourceRoot":"","sources":["dzs-search-expand.scss","style/_view-animation.scss"],"names":[],"mappings":"AAEA,MACE,gCACA,qCACA,sCACA,iCACA,0CACA,uCACA,8EACA,iCACA,gCACA,qCAEA,mCAIA,gHAMF,MACE,qBACA,uBAKA,4BACE,qBAIJ,wBAEE,sCACA,uCAEA,kBACA,qBAEA,kBACA,2BAEA,gCAEE,aACA,mBACA,uDACA,oBACA,6CACA,qCACA,gBACA,eAEA,YAUF,mCACE,qCACA,sCAGA,2DAGE,kBACA,qBAGA,mEAEE,sBAIA,kBACA,MACA,OACA,oCACA,0CCzFR,wBAGE,8DAEA,kDAEA,gCACE,yEAGF,6CACE,yEAGF,mEAEE,oCAEA,oBAEA,iIACE,6DAEF,6GACE,uDAcF,2DAGA,gBAGA,mEACE,gIAIF,yIAEE,oCAEA,uMACE,wCAWR,2BACE,8DAEA,yHAEE,WDyBJ,qBACE,qCACA,sCACA,iBACA,cAMA,iDAGA,8YAKF,2BACE,YACA,YACA,aACA,+CACA,yBACA,UACA,QAEA","file":"dzs-search-expand.css","sourcesContent":["@import \"TOKENS\";\n\n:root {\n  --search-expand-icon-size: 24px;\n  --search-expand-wrapper-padding: 8px;\n  --search-expand-input-font-size: 14px;\n  --search-expand-color-icon: #fff;\n  --search-expand-color-icon-hover: #dadada;\n  --search-expand-color-wrapper-bg: #222;\n  --search-expand-color-wrapper-bg-hover: var(--search-expand-color-wrapper-bg);\n  --search-expand-color-text: #fff;\n  --search-expand-expand-w: 180px;\n  --search-expand-view--duration: 0.3s;\n  /* Hover delay to prevent flashing on rapid mouse movement */\n  --search-expand-hover-delay: 0.05s;\n\n\n  /* sum of icon size + padding */\n  --search-expand-total-size: calc(\n    var(--search-expand-icon-size) + (2 * var(--search-expand-wrapper-padding))\n  );\n}\n\n\n:host {\n  display: inline-block;\n  font-family: sans-serif;\n}\n\n.search-expand {\n\n  &.inline-block {\n    display: inline-block;\n  }\n}\n\n.search-expand--wrapper {\n\n  width: var(--search-expand-total-size);\n  height: var(--search-expand-total-size);\n  /* Prevent layout shifts during width changes */\n  position: relative;\n  display: inline-block;\n  /* Optimize rendering during animation */\n  will-change: width;\n  backface-visibility: hidden;\n  \n  >&--inner {\n\n    display: flex;\n    align-items: center;\n    background-color: var(--search-expand-color-wrapper-bg);\n    border-radius: 999px;\n    padding: var(--search-expand-wrapper-padding);\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    cursor: pointer;\n\n    height: 100%;\n  }\n\n\n\n}\n\n\n.search-expand {\n  // todo: move to separate file\n  &.mode-view--absolute {\n    width: var(--search-expand-icon-size);\n    height: var(--search-expand-icon-size);\n\n\n    .search-expand--wrapper {\n\n\n      position: relative;\n      display: inline-block;\n\n\n      >&--inner {\n\n        box-sizing: border-box;\n\n        /* Prevent hover/focus expansion from reflowing surrounding layout:\n           keep wrapper fixed-size and animate this inner overlay instead. */\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: var(--search-expand-expand-w);\n        max-width: var(--search-expand-total-size);\n      }\n    }\n  }\n}\n@import \"style/view-animation\";\n\n.search-expand--icon {\n  width: var(--search-expand-icon-size);\n  height: var(--search-expand-icon-size);\n  margin-right: 8px;\n  flex-shrink: 0;\n  //background: url('data:image/svg+xml;utf8,<svg fill=\"currentColor\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M464,428,339.92,303.9a160.48,160.48,0,0,0,30.72-94.58C370.64,120.37,298.27,48,209.32,48S48,120.37,48,209.32s72.37,161.32,161.32,161.32a160.48,160.48,0,0,0,94.58-30.72L428,464ZM209.32,319.69A110.38,110.38,0,1,1,319.69,209.32,110.5,110.5,0,0,1,209.32,319.69Z\"/></svg>')\n  //center/contain no-repeat;\n\n\n  /* Color comes from background-color */\n  background-color: var(--search-expand-color-icon);\n\n  /* Use the SVG as mask */\n  mask: url('data:image/svg+xml;utf8,<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M464,428,339.92,303.9a160.48,160.48,0,0,0,30.72-94.58C370.64,120.37,298.27,48,209.32,48S48,120.37,48,209.32s72.37,161.32,161.32,161.32a160.48,160.48,0,0,0,94.58-30.72L428,464ZM209.32,319.69A110.38,110.38,0,1,1,319.69,209.32,110.5,110.5,0,0,1,209.32,319.69Z\"/></svg>') center / contain no-repeat;\n}\n\n\n// -- the input\ninput.search-expand--input {\n  flex-grow: 1;\n  border: none;\n  outline: none;\n  font-size: var(--search-expand-input-font-size);\n  background: transparent;\n  opacity: 1;\n  width: 0;\n\n  color: var(--search-expand-color-text);\n\n}\n\n\n// -- old","\n.search-expand--wrapper {\n\n\n  transition: width var(--search-expand-view--duration) ease-out;\n  /* Add a small delay before starting the transition to prevent hover flashing */\n  transition-delay: var(--search-expand-hover-delay);\n\n  >&--inner{\n    transition: background-color var(--search-expand-view--duration) ease-out;\n  }\n\n  .search-expand--icon{\n    transition: background-color var(--search-expand-view--duration) ease-out;\n  }\n\n  &:hover,\n  &:focus-within {\n    width: var(--search-expand-expand-w);\n    /* Remove delay on hover to make it feel responsive */\n    transition-delay: 0s;\n\n    >.search-expand--wrapper--inner{\n      background-color: var(--search-expand-color-wrapper-bg-hover);\n    }\n    .search-expand--icon{\n      background-color: var(--search-expand-color-icon-hover);\n    }\n  }\n\n\n\n}\n\n.search-expand{\n\n  // todo: move to separate file\n  &.mode-view--absolute{\n\n\n    .search-expand--wrapper {\n\n    /* Wrapper stays fixed-size to avoid layout reflow loops. */\n    transition: none;\n\n\n    >&--inner{\n      transition: max-width var(--search-expand-view--duration) ease-out, background-color var(--search-expand-view--duration) ease-out;\n    }\n\n\n    &:hover,\n    &:focus-within {\n      width: var(--search-expand-expand-w);\n\n      > .search-expand--wrapper--inner {\n        max-width: var(--search-expand-expand-w);\n      }\n    }\n    }\n  }\n}\n\n\n\n\n// -- the input\ninput.search-expand--input {\n  transition: width var(--search-expand-view--duration) ease-out;\n\n  .search-expand--wrapper:hover &,\n  .search-expand--wrapper:focus-within & {\n    width: 100%;\n  }\n}"]}