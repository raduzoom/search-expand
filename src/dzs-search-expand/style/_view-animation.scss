
.search-expand--wrapper {


  transition: width var(--search-expand-view--duration) ease-out;

  >&--inner{
    transition: background-color var(--search-expand-view--duration) ease-out;
  }

  .search-expand--icon{
    transition: background-color var(--search-expand-view--duration) ease-out;
  }

  &:hover,
  &:focus-within {
    width: var(--search-expand-expand-w);

    >.search-expand--wrapper--inner{
      background-color: var(--search-expand-color-wrapper-bg-hover);
    }
    .search-expand--icon{
      background-color: var(--search-expand-color-icon-hover);
    }
  }



}

.search-expand{

  // todo: move to separate file
  &.mode-view--absolute{


    .search-expand--wrapper {

    /* Wrapper stays fixed-size to avoid layout reflow loops. */
    transition: none;


    >&--inner{
      transition: max-width var(--search-expand-view--duration) ease-out, background-color var(--search-expand-view--duration) ease-out;
    }


    &:hover,
    &:focus-within {
      width: var(--search-expand-expand-w);

      > .search-expand--wrapper--inner {
        max-width: var(--search-expand-expand-w);
      }
    }
    }
  }
}




// -- the input
input.search-expand--input {
  transition: width var(--search-expand-view--duration) ease-out;

  .search-expand--wrapper:hover &,
  .search-expand--wrapper:focus-within & {
    width: 100%;
  }
}